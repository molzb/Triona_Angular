<div id="timesheet" class="container" ng-controller="TimesheetCtrl">
	<h1 class="page-header">Timesheets</h1>

	<div id="headRow" class="row" ng-init="init()">
		<div class="btn-group col-md-4" role="group">
			<button type="button" class="btn btn-primary btn-lg" ng-click="chgYear(-1)">&lt;</button>
			<button type="button" class="btn btn-default btn-lg">{{year}}</button>
			<button type="button" class="btn btn-primary btn-lg" ng-click="chgYear(1)" ng-disabled="yearIsNow()">&gt;</button>
		</div>
		<div class="col-md-4">
			<div class="panel panel-success">
				<div class="panel-heading">
					<span class="left">Working days {{year}}</span>{{workingDaysYear}}
				</div>
			</div>
		</div>

		<div class="col-md-4">
			<div class="panel panel-success">
				<div class="panel-heading">
					<span class="left">Working hours {{year}}</span>{{workingHoursYear|hhmm}}
				</div>
			</div>
		</div>
	</div>

	<div class="row">
		<div id="spacer" class="row">&nbsp;</div>
		<div class="col-md-4" ng-repeat="m in months">
			<div class="panel panel-primary">
				<div class="panel-heading">
					<h3 id="panel-title" class="panel-title">{{m}} {{year}}
						<span class="bestMonth glyphicon glyphicon-thumbs-up pull-right" ng-if="isBestMonth($index)"
							  title="Most working hours">&nbsp;</span>
						<span class="worstMonth glyphicon glyphicon-glass pull-right" ng-if="isWorstMonth($index)"
							  title="Least working hours">&nbsp;</span>
					</h3>
				</div>
				<div class="panel-body">
					<div class="content">
						<a class="btn btn-primary btn-success" ng-click="editTimesheet($index)" ng-if="!hasTimesheet($index)">
							<span class="glyphicon glyphicon-plus">&nbsp;</span>Add timesheet
						</a>
						<div ng-if="hasTimesheet($index)">
							<table>
								<tr>
									<td>
										<span class="left">Working days</span>
										<span>{{workingDaysMonth[$index]}}</span>
										<span class="left">Working hours</span>
										<span>{{workingHoursMonth[$index]|hhmm}} hours</span>
									</td>
									<td>
										<a id="editTimesheet" class="pull-right" ng-click="editTimesheet($index)">
											<span class="btn btn-warning glyphicon glyphicon-pencil" title="Edit"></span>
										</a>
									</td>
								</tr>
							</table>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
